!function(){"use strict";var e={d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{init:function(){return Ge}});var n=window.elementorV2.editor,a=window.elementorV2.editorEditingPanel,r=window.elementorV2.editorPanels,o=window.elementorV2.editorStylesRepository,l=window.elementorV2.editorV1Adapters,i=window.elementorV2.store,s=window.React,c=window.elementorV2.editorDocuments,d=window.elementorV2.ui,m=window.wp.i18n,u=window.elementorV2.editorStyles;const p="elementor_global_classes_update_class";var g=window.elementorV2.utils;const h=(0,g.createError)({code:"global_class_not_found",message:"Global class not found."}),y=(0,g.createError)({code:"global_class_label_already_exists",message:"Class with this name already exists."});var v=window.elementorV2.editorProps;function b({value:e,next:t,prev:n}){return{value:e,prev:n||null,next:t||null}}class f{static registry={};static get(e){return f.registry[e]||(f.registry[e]=new f(e)),f.registry[e]}first=null;current=null;constructor(e){this.namespace=e}transform(e){return JSON.parse(JSON.stringify(e))}reset(){this.first=this.current=null}prev(){return this.current&&this.current!==this.first?(this.current=this.current.prev,this.current?.value||null):null}isLast(){return!this.current||!this.current.next}next(e){if(e){if(!this.current)return this.first=b({value:this.transform(e)}),this.current=this.first,this.current.value;const t=b({value:this.transform(e),prev:this.current});return this.current.next=t,this.current=t,this.current.value}return this.current&&this.current.next?(this.current=this.current.next,this.current.value):null}}const E=f.get("global-classes"),_="globalClasses",w=(0,i.__createSlice)({name:_,initialState:{data:{items:{},order:[]},initialData:{frontend:{items:{},order:[]},preview:{items:{},order:[]}},isDirty:!1},reducers:{load(e,{payload:{frontend:t,preview:n}}){e.initialData.frontend=t,e.initialData.preview=n,e.data=n,e.isDirty=!1},add(e,{payload:t}){E.next(e.data),e.data.items[t.id]=t,e.data.order.unshift(t.id),e.isDirty=!0},delete(e,{payload:t}){E.next(e.data),e.data.items=Object.fromEntries(Object.entries(e.data.items).filter(([e])=>e!==t)),e.data.order=e.data.order.filter(e=>e!==t),e.isDirty=!0},setOrder(e,{payload:t}){E.next(e.data),e.data.order=t,e.isDirty=!0},update(e,{payload:t}){E.next(e.data);const n={...e.data.items[t.style.id],...t.style};e.data.items[t.style.id]=n,e.isDirty=!0},updateProps(e,{payload:t}){const n=e.data.items[t.id];if(!n)throw new h({context:{styleId:t.id}});E.next(e.data);const a=(0,u.getVariantByMeta)(n,t.meta);a?(a.props=(0,v.mergeProps)(a.props,t.props),0===Object.keys(a.props).length&&(n.variants=n.variants.filter(e=>e!==a))):n.variants.push({meta:t.meta,props:t.props}),e.isDirty=!0},reset(e,{payload:{context:t}}){"frontend"===t&&(E.reset(),e.initialData.frontend=e.data,e.isDirty=!1),e.initialData.preview=e.data},undo(e){E.isLast()&&E.next(e.data);const t=E.prev();t?(e.data=t,e.isDirty=!0):e.data=e.initialData.preview},resetToInitialState(e,{payload:{context:t}}){E.reset(),e.data=e.initialData[t],e.isDirty=!1},redo(e){const t=E.next();E.isLast()&&E.prev(),t&&(e.data=t,e.isDirty=!0)}}}),x=e=>e[_].data,S=e=>e[_].initialData.frontend,C=e=>e[_].initialData.preview,D=(0,i.__createSelector)(x,({order:e})=>e),T=(0,i.__createSelector)(x,({items:e})=>e),P=e=>e[_].isDirty,I=(0,i.__createSelector)(T,D,(e,t)=>t.map(t=>e[t])),O=(e,t)=>e[_].data.items[t]??null,k="global-classes",V=(0,o.createStylesProvider)({key:k,priority:30,limit:50,labels:{singular:(0,m.__)("class","elementor"),plural:(0,m.__)("classes","elementor")},subscribe:e=>(0,i.__subscribeWithSelector)(e=>e.globalClasses,e),capabilities:(()=>{if((0,l.isExperimentActive)("global_classes_should_enforce_capabilities"))return{update:p,create:p,delete:p,updateProps:p}})(),actions:{all:()=>I((0,i.__getState)()),get:e=>O((0,i.__getState)(),e),resolveCssName:e=>O((0,i.__getState)(),e)?.label??e,create:e=>{const t=T((0,i.__getState)());if(Object.values(t).map(e=>e.label).includes(e))throw new y({context:{label:e}});const n=Object.keys(t),a=(0,u.generateId)("g-",n);return(0,i.__dispatch)(w.actions.add({id:a,type:"class",label:e,variants:[]})),a},update:e=>{(0,i.__dispatch)(w.actions.update({style:e}))},delete:e=>{(0,i.__dispatch)(w.actions.delete(e))},updateProps:e=>{(0,i.__dispatch)(w.actions.updateProps({id:e.id,meta:e.meta,props:e.props}))}}});var A=window.elementorV2.query,j=window.elementorV2.httpClient;const M="/global-classes",B="elementor/v1",z=`${M}/usage`,L={usage:()=>(0,j.httpService)().get(`${B}${z}`),all:(e="preview")=>(0,j.httpService)().get(`${B}${M}`,{params:{context:e}}),publish:e=>(0,j.httpService)().put("elementor/v1"+M,e,{params:{context:"frontend"}}),saveDraft:e=>(0,j.httpService)().put("elementor/v1"+M,e,{params:{context:"preview"}})},W=async()=>{return e=(await L.usage()).data.data,Object.entries(e).reduce((e,[t,n])=>(e[t]={content:n||[],total:n.reduce((e,t)=>e+(t?.total||0),0)},e),{});var e},F="css-classes-usage";var $=window.elementorV2.editorUi,H=window.elementorV2.icons;const R=()=>(0,i.__useSelector)(P);async function N({context:e}){const t=x((0,i.__getState)());"preview"===e?await L.saveDraft({items:t.items,order:t.order,changes:U(t,C((0,i.__getState)()))}):await L.publish({items:t.items,order:t.order,changes:U(t,S((0,i.__getState)()))}),(0,i.__dispatch)(w.actions.reset({context:e}))}function U(e,t){const n=Object.keys(e.items),a=Object.keys(t.items);return{added:n.filter(e=>!a.includes(e)),deleted:a.filter(e=>!n.includes(e)),modified:n.filter(n=>n in t.items&&G(e.items[n])!==G(t.items[n]))}}function G(e){return JSON.stringify(e,(e,t)=>function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}var K=window.elementorV2.editorCurrentUser;const q=()=>{const[e,t]=(0,K.useSuppressedMessage)("global-class-manager"),[n,a]=(0,s.useState)(!e);return s.createElement($.IntroductionModal,{open:n,title:(0,m.__)("Class Manager","elementor"),handleClose:e=>{e||t(),a(!1)}},s.createElement(d.Image,{sx:{width:"100%",aspectRatio:"16 / 9"},src:"https://assets.elementor.com/packages/v1/images/class-manager-intro.svg",alt:""}),s.createElement(Y,null))},Y=()=>s.createElement(d.Box,{p:3},s.createElement(d.Typography,{variant:"body2"},(0,m.__)("The Class Manager lets you see all the classes you've created, plus adjust their priority, rename them, and delete unused classes to keep your CSS structured.","elementor")),s.createElement("br",null),s.createElement(d.Typography,{variant:"body2"},(0,m.__)("Remember, when editing an item within a specific class, any changes you make will apply across all elements in that class.","elementor"))),J=({searchValue:e,onChange:t})=>s.createElement(d.Grid,{item:!0,xs:6,px:2,pb:1},s.createElement(d.Stack,{direction:"row",gap:.5,sx:{width:"100%"}},s.createElement(d.Box,{sx:{flexGrow:1}},s.createElement(d.TextField,{role:"search",fullWidth:!0,size:"tiny",value:e,placeholder:(0,m.__)("Search","elementor"),onChange:e=>t(e.target.value),InputProps:{startAdornment:s.createElement(d.InputAdornment,{position:"start"},s.createElement(H.SearchIcon,{fontSize:"tiny"}))}}))));let Q=!1;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X.apply(null,arguments)}const Z=({sx:e,...t})=>s.createElement(H.ColorSwatchIcon,X({sx:{transform:"rotate(90deg)",...e}},t)),ee={total:0,content:[]},te=e=>{const{data:t,...n}=(0,A.useQuery)({queryKey:[F],queryFn:W,refetchOnMount:!1,refetchOnWindowFocus:!0});return{...n,data:t?.[e]??ee}},ne={"wp-post":{label:(0,m.__)("Post","elementor"),icon:s.createElement(H.PostTypeIcon,{fontSize:"inherit"})},"wp-page":{label:(0,m.__)("Page","elementor"),icon:s.createElement(H.PagesIcon,{fontSize:"inherit"})},popup:{label:(0,m.__)("Popup","elementor"),icon:s.createElement(H.PopupTemplateIcon,{fontSize:"inherit"})},header:{label:(0,m.__)("Header","elementor"),icon:s.createElement(H.HeaderTemplateIcon,{fontSize:"inherit"})},footer:{label:(0,m.__)("Footer","elementor"),icon:s.createElement(H.FooterTemplateIcon,{fontSize:"inherit"})}},ae=({cssClassID:e,onClose:t})=>{const{data:n}=te(e),a=(0,c.__useOpenDocumentInNewTab)(),r=n?.content.map(({title:e,elements:t,pageId:n,type:a})=>({type:"item",value:n,label:e,secondaryText:t.length.toString(),docType:a}))??[];return s.createElement(s.Fragment,null,s.createElement($.PopoverHeader,{icon:s.createElement(H.CurrentLocationIcon,{fontSize:"tiny"}),title:s.createElement(d.Stack,{flexDirection:"row",gap:1,alignItems:"center"},s.createElement(d.Box,{"aria-label":"header-title"},(0,m.__)("Locator","elementor")),s.createElement(d.Box,null,s.createElement(d.Chip,{sx:{lineHeight:1},size:"tiny",label:n.total}))),onClose:t}),s.createElement(d.Divider,null),s.createElement($.PopoverBody,{width:300},s.createElement($.PopoverMenuList,{onSelect:e=>a(+e),items:r,onClose:()=>{},menuListTemplate:re,menuItemContentTemplate:e=>s.createElement(d.Stack,{flexDirection:"row",flex:1,alignItems:"center"},s.createElement(d.Box,{display:"flex",sx:{pr:1}},s.createElement(d.Tooltip,{title:ne?.[e.docType]?.label??e.docType,placement:"top"},s.createElement(d.Icon,{fontSize:"small"},ne?.[e.docType]?.icon||s.createElement(H.PagesIcon,{fontSize:"inherit"})))),s.createElement(d.Box,{sx:{pr:.5,maxWidth:"173px"},display:"flex"},s.createElement($.EllipsisWithTooltip,{title:e.label,as:d.Typography,variant:"caption",maxWidth:"173px",sx:{lineHeight:1}})),s.createElement(H.ExternalLinkIcon,{className:"hover-only-icon",fontSize:"tiny"}),s.createElement(d.Chip,{sx:{ml:"auto"},size:"tiny",label:e.secondaryText}))})))},re=(0,d.styled)(d.MenuList)(({theme:e})=>({"& > li":{display:"flex",cursor:"pointer",height:32,width:"100%"},'& > [role="option"]':{...e.typography.caption,lineHeight:"inherit",padding:e.spacing(.5,1,.5,2),textOverflow:"ellipsis",position:"absolute",top:0,left:0,opacity:1,".hover-only-icon":{color:e.palette.text.disabled,opacity:0},"&:hover":{borderRadius:e.spacing(.5),backgroundColor:e.palette.action.hover,".hover-only-icon":{color:e.palette.text.disabled,opacity:1}}},width:"100%",position:"relative"}));function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(null,arguments)}const le=({id:e,onClick:t})=>{const{data:{total:n},isLoading:a}=te(e),r=(0,d.usePopupState)({variant:"popover",popupId:"css-class-usage-popover"});if(a)return null;const o=0!==n?se:ce;return s.createElement(s.Fragment,null,s.createElement(d.Box,{position:"relative"},s.createElement(o,{total:n},s.createElement(ie,oe({disabled:0===n,size:"tiny"},(0,d.bindTrigger)(r),{onClick:a=>{0!==n&&((0,d.bindTrigger)(r).onClick(a),t(e))}}),s.createElement(H.CurrentLocationIcon,{fontSize:"tiny"})))),s.createElement(d.Box,null,s.createElement(d.Popover,oe({sx:{ml:6},anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:-5}},(0,d.bindPopover)(r),{onClose:()=>{(0,d.bindPopover)(r).onClose(),t("")}}),s.createElement(ae,{onClose:r.close,"aria-label":"css-class-usage-popover",cssClassID:e}))))},ie=(0,d.styled)(d.IconButton)(({theme:e})=>({"&.Mui-disabled":{pointerEvents:"auto","&:hover":{color:e.palette.action.disabled}},height:"22px",width:"22px"})),se=({children:e,total:t})=>s.createElement(d.Tooltip,{placement:"top",title:`${(0,m.__)("Show {{number}} {{locations}}","elementor").replace("{{number}}",t.toString()).replace("{{locations}}",1===t?(0,m.__)("location","elementor"):(0,m.__)("locations","elementor"))}`},s.createElement("span",null,e)),ce=({children:e})=>s.createElement(d.Infotip,{placement:"top",color:"secondary",content:s.createElement($.InfoAlert,{sx:{mt:1}},(0,m.__)("This class isn’t being used yet.","elementor"))},s.createElement("span",null,e)),de=(0,s.createContext)(null),me=({children:e})=>{const[t,n]=(0,s.useState)(null);return s.createElement(de.Provider,{value:{openDialog:e=>{n(e)},closeDialog:()=>{n(null)},dialogProps:t}},e,!!t&&s.createElement(pe,t))},ue="delete-class-dialog",pe=({label:e,id:t})=>{const{closeDialog:n}=ge(),{data:{total:a,content:r}}=te(t),o=a&&r.length?(0,m.__)("Will permanently remove it from your project and may affect the design across all elements using it. Used %1 times across %2 pages. This action cannot be undone.","elementor").replace("%1",a.toString()).replace("%2",r.length.toString()):(0,m.__)("Will permanently remove it from your project and may affect the design across all elements using it. This action cannot be undone.","elementor");return s.createElement(d.Dialog,{open:!0,onClose:n,"aria-labelledby":ue,maxWidth:"xs"},s.createElement(d.DialogTitle,{id:ue,display:"flex",alignItems:"center",gap:1,sx:{lineHeight:1}},s.createElement(H.AlertOctagonFilledIcon,{color:"error"}),(0,m.__)("Delete this class?","elementor")),s.createElement(d.DialogContent,null,s.createElement(d.DialogContentText,{variant:"body2",color:"textPrimary"},(0,m.__)("Deleting","elementor"),s.createElement(d.Typography,{variant:"subtitle2",component:"span"}," ",e," "),o)),s.createElement(d.DialogActions,null,s.createElement(d.Button,{color:"secondary",onClick:n},(0,m.__)("Not now","elementor")),s.createElement(d.Button,{variant:"contained",color:"error",onClick:()=>{(e=>{(0,i.__dispatch)(w.actions.delete(e)),Q=!0})(t),n()}},(0,m.__)("Delete","elementor"))))},ge=()=>{const e=(0,s.useContext)(de);if(!e)throw new Error("useDeleteConfirmation must be used within a DeleteConfirmationProvider");return e};function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},he.apply(null,arguments)}const ye=e=>s.createElement(d.UnstableSortableProvider,he({restrictAxis:!0,variant:"static",dragPlaceholderStyle:{opacity:"1"}},e)),ve=e=>s.createElement(fe,he({},e,{role:"button",className:"class-item-sortable-trigger"}),s.createElement(H.GripVerticalIcon,{fontSize:"tiny"})),be=({children:e,id:t,...n})=>s.createElement(d.UnstableSortableItem,he({},n,{id:t,render:({itemProps:t,isDragged:n,triggerProps:a,itemStyle:r,triggerStyle:o,dropIndicationStyle:l,showDropIndication:i,isDragOverlay:c,isDragPlaceholder:m})=>s.createElement(d.Box,he({},t,{style:r,component:"li",role:"listitem",sx:{backgroundColor:c?"background.paper":void 0}}),e({itemProps:t,isDragged:n,triggerProps:a,itemStyle:r,triggerStyle:o,isDragPlaceholder:m}),i&&s.createElement(Ee,{style:l}))})),fe=(0,d.styled)("div")(({theme:e})=>({position:"absolute",left:0,top:"50%",transform:`translate( -${e.spacing(1.5)}, -50% )`,color:e.palette.action.active})),Ee=(0,d.styled)(d.Box)`
	width: 100%;
	height: 1px;
	background-color: ${({theme:e})=>e.palette.text.primary};
`;function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_e.apply(null,arguments)}const we=({id:e,label:t,renameClass:n,selected:a,disabled:r,sortableTriggerProps:o,isSearchActive:l})=>{const i=(0,s.useRef)(null),{ref:c,openEditMode:u,isEditing:p,error:g,getProps:h}=(0,$.useEditable)({value:t,onSubmit:n,validation:De}),[y,v]=(0,s.useState)(""),{openDialog:b}=ge(),f=(0,d.usePopupState)({variant:"popover",disableAutoFocus:!0}),E=(y===e||a||f.isOpen)&&!r;return s.createElement(s.Fragment,null,s.createElement(d.Stack,{p:0},s.createElement($.WarningInfotip,{open:Boolean(g),text:g??"",placement:"bottom",width:i.current?.getBoundingClientRect().width,offset:[0,-15]},s.createElement(xe,{ref:i,dense:!0,disableGutters:!0,showSortIndicator:l,showActions:E||p,shape:"rounded",onDoubleClick:u,selected:E,disabled:r,focusVisibleClassName:"visible-class-item"},s.createElement(ve,o),s.createElement(Se,{isActive:p,isError:!!g},p?s.createElement($.EditableField,_e({ref:c,as:d.Typography,variant:"caption"},h())):s.createElement($.EllipsisWithTooltip,{title:t,as:d.Typography,variant:"caption"})),s.createElement(d.Box,{className:"class-item-locator"},s.createElement(le,{id:e,onClick:v})),s.createElement(d.Tooltip,{placement:"top",className:"class-item-more-actions",title:(0,m.__)("More actions","elementor")},s.createElement(d.IconButton,_e({size:"tiny"},(0,d.bindTrigger)(f),{"aria-label":"More actions"}),s.createElement(H.DotsVerticalIcon,{fontSize:"tiny"})))))),s.createElement(d.Menu,_e({},(0,d.bindMenu)(f),{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}}),s.createElement($.MenuListItem,{sx:{minWidth:"160px"},onClick:()=>{f.close(),u()}},s.createElement(d.Typography,{variant:"caption",sx:{color:"text.primary"}},(0,m.__)("Rename","elementor"))),s.createElement($.MenuListItem,{onClick:()=>{f.close(),b({id:e,label:t})}},s.createElement(d.Typography,{variant:"caption",sx:{color:"error.light"}},(0,m.__)("Delete","elementor")))))},xe=(0,d.styled)(d.ListItemButton,{shouldForwardProp:e=>!["showActions","showSortIndicator"].includes(e)})(({showActions:e,showSortIndicator:t})=>`\n    min-height: 36px;\n\n    &.visible-class-item {\n      box-shadow: none !important;\n    }\n\n    .class-item-locator {\n      visibility: hidden;\n    }\n\n    .class-item-sortable-trigger {\n      visibility: ${t&&e?"visible":"hidden"};\n    }\n\n    &:hover:not(:disabled) {\n      .class-item-locator {\n        visibility: visible;\n      }\n\n      .class-item-sortable-trigger {\n        visibility: ${t?"visible":"hidden"};\n      }\n    }\n  `),Se=(0,d.styled)(d.Box,{shouldForwardProp:e=>!["isActive","isError"].includes(e)})(({theme:e,isActive:t,isError:n})=>({display:"flex",width:"100%",flexGrow:1,borderRadius:e.spacing(.5),border:Ce({isActive:t,isError:n,theme:e}),padding:`0 ${e.spacing(1)}`,marginLeft:t?e.spacing(1):0,minWidth:0})),Ce=({isActive:e,isError:t,theme:n})=>t?`2px solid ${n.palette.error.main}`:e?`2px solid ${n.palette.secondary.main}`:"none",De=e=>{const t=(0,o.validateStyleLabel)(e,"rename");return t.isValid?null:t.errorMessage},Te=({onClear:e,searchValue:t})=>s.createElement(d.Stack,{color:"text.secondary",pt:5,alignItems:"center",gap:1,overflow:"hidden",maxWidth:"170px",justifySelf:"center"},s.createElement(Z,{color:"inherit",fontSize:"large"}),s.createElement(d.Box,null,s.createElement(d.Typography,{align:"center",variant:"subtitle2",color:"inherit"},(0,m.__)("Sorry, nothing matched","elementor")),s.createElement(d.Typography,{variant:"subtitle2",color:"inherit",sx:{display:"flex",width:"100%",justifyContent:"center"}},s.createElement("span",null,"“"),s.createElement("span",{style:{maxWidth:"80%",overflow:"hidden",textOverflow:"ellipsis"}},t),s.createElement("span",null,"”."))),s.createElement(d.Typography,{align:"center",variant:"caption",color:"inherit"},(0,m.__)("Try something else.","elementor"),s.createElement(d.Link,{color:"secondary",variant:"caption",component:"button",onClick:e},(0,m.__)("Clear & try again","elementor")))),Pe=({disabled:e,searchValue:t,onSearch:n})=>{const a=(0,i.__useSelector)(I),r=(0,i.__useDispatch)(),[o,l]=ke(),c=(0,s.useMemo)(()=>a.map(e=>({...e,lowerLabel:e.label.toLowerCase()})),[a]),m=(0,s.useMemo)(()=>t.length>1?c.filter(e=>e.lowerLabel.toLowerCase().includes(t.toLowerCase())):a,[t,a,c]);return(0,s.useEffect)(()=>{const e=e=>{if("z"===e.key&&(e.ctrlKey||e.metaKey)){if(e.stopImmediatePropagation(),e.preventDefault(),e.shiftKey)return void r(w.actions.redo());r(w.actions.undo())}};return window.addEventListener("keydown",e,{capture:!0}),()=>window.removeEventListener("keydown",e)},[r]),a?.length?s.createElement(me,null,m.length<=0&&t.length>1?s.createElement(Te,{onClear:()=>n(""),searchValue:t}):s.createElement(d.List,{sx:{display:"flex",flexDirection:"column",gap:.5}},s.createElement(ye,{value:o,onChange:l},m?.map(({id:n,label:a})=>s.createElement(be,{key:n,id:n},({isDragged:o,isDragPlaceholder:l,triggerProps:i,triggerStyle:c})=>s.createElement(we,{isSearchActive:t.length<2,id:n,label:a,renameClass:e=>{r(w.actions.update({style:{id:n,label:e}}))},selected:o,disabled:e||l,sortableTriggerProps:{...i,style:c}})))))):s.createElement(Ie,null)},Ie=()=>s.createElement(d.Stack,{alignItems:"center",gap:1.5,pt:10,px:.5,maxWidth:"260px",margin:"auto"},s.createElement(Z,{fontSize:"large"}),s.createElement(Oe,{variant:"subtitle2",component:"h2",color:"text.secondary"},(0,m.__)("There are no global classes yet.","elementor")),s.createElement(d.Typography,{align:"center",variant:"caption",color:"text.secondary"},(0,m.__)("CSS classes created in the editor panel will appear here. Once they are available, you can arrange their hierarchy, rename them, or delete them as needed.","elementor"))),Oe=(0,d.styled)(d.Typography)(({theme:e,variant:t})=>({"&.MuiTypography-root":{...e.typography[t]}})),ke=()=>{const e=(0,i.__useDispatch)();return[(0,i.__useSelector)(D),t=>{e(w.actions.setOrder(t))}]};function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ve.apply(null,arguments)}const Ae="save-changes-dialog",je=({children:e,onClose:t})=>s.createElement(d.Dialog,{open:!0,onClose:t,"aria-labelledby":Ae,maxWidth:"xs"},e);je.Title=({children:e})=>s.createElement(d.DialogTitle,{id:Ae,display:"flex",alignItems:"center",gap:1,sx:{lineHeight:1}},s.createElement(H.AlertTriangleFilledIcon,{color:"secondary"}),e),je.Content=({children:e})=>s.createElement(d.DialogContent,null,e),je.ContentText=e=>s.createElement(d.DialogContentText,Ve({variant:"body2",color:"textPrimary",display:"flex",flexDirection:"column"},e)),je.Actions=({actions:e})=>{const[t,n]=(0,s.useState)(!1),{cancel:a,confirm:r,discard:o}=e;return s.createElement(d.DialogActions,null,a&&s.createElement(d.Button,{variant:"text",color:"secondary",onClick:a.action},a.label),o&&s.createElement(d.Button,{variant:"text",color:"secondary",onClick:o.action},o.label),s.createElement(d.Button,{variant:"contained",color:"secondary",onClick:async()=>{n(!0),await r.action(),n(!1)},loading:t},r.label))};const Me=()=>{const[e,t]=(0,s.useState)(!1);return{isOpen:e,open:()=>t(!0),close:()=>t(!1)}};function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Be.apply(null,arguments)}const ze="global-classes-manager",{panel:Le,usePanelActions:We}=(0,r.__createPanel)({id:ze,component:function(){const{debouncedValue:e,inputValue:t,handleChange:n}=(0,g.useDebounceState)({delay:300,initialValue:""}),a=R(),{close:o}=We(),{open:l,close:c,isOpen:u}=Me(),{mutateAsync:p,isPending:h}=Re();return He(),s.createElement($.ThemeProvider,null,s.createElement(d.ErrorBoundary,{fallback:s.createElement($e,null)},s.createElement(r.Panel,null,s.createElement(r.PanelHeader,null,s.createElement(d.Stack,{p:1,pl:2,width:"100%",direction:"row",alignItems:"center"},s.createElement(r.PanelHeaderTitle,{sx:{display:"flex",alignItems:"center",gap:.5}},s.createElement(Z,{fontSize:"inherit"}),(0,m.__)("Class Manager","elementor")),s.createElement(Fe,{sx:{marginLeft:"auto"},disabled:h,onClose:()=>{a?l():o()}}))),s.createElement(r.PanelBody,{sx:{display:"flex",flexDirection:"column",height:"100%"}},s.createElement(J,{searchValue:t,onChange:n}),s.createElement(d.Divider,{sx:{borderWidth:"1px 0 0 0"}}),s.createElement(d.Box,{px:2,sx:{flexGrow:1,overflowY:"auto"}},s.createElement(Pe,{disabled:h,searchValue:e,onSearch:n}))),s.createElement(r.PanelFooter,null,s.createElement(d.Button,{fullWidth:!0,size:"small",color:"global",variant:"contained",onClick:p,disabled:!a,loading:h},(0,m.__)("Save changes","elementor"))))),s.createElement(q,null),u&&s.createElement(je,null,s.createElement(d.DialogHeader,{onClose:c,logo:!1},s.createElement(je.Title,null,(0,m.__)("You have unsaved changes","elementor"))),s.createElement(je.Content,null,s.createElement(je.ContentText,null,(0,m.__)("You have unsaved changes in the Class Manager.","elementor")),s.createElement(je.ContentText,null,(0,m.__)("To avoid losing your updates, save your changes before leaving.","elementor"))),s.createElement(je.Actions,{actions:{discard:{label:(0,m.__)("Discard","elementor"),action:()=>{(0,i.__dispatch)(w.actions.resetToInitialState({context:"frontend"})),c()}},confirm:{label:(0,m.__)("Save & Continue","elementor"),action:async()=>{await p(),c(),o()}}}})))},allowedEditModes:["edit",ze],onOpen:()=>{(0,l.changeEditMode)(ze),function(){const e=window;e.$e?.components?.get?.("panel")?.blockUserInteractions?.()}()},onClose:()=>{(0,l.changeEditMode)("edit"),function(){const e=window;e.$e?.components?.get?.("panel")?.unblockUserInteractions?.()}()}}),Fe=({onClose:e,...t})=>s.createElement(d.IconButton,Be({size:"small",color:"secondary",onClick:e,"aria-label":"Close"},t),s.createElement(H.XIcon,{fontSize:"small"})),$e=()=>s.createElement(d.Box,{role:"alert",sx:{minHeight:"100%",p:2}},s.createElement(d.Alert,{severity:"error",sx:{mb:2,maxWidth:400,textAlign:"center"}},s.createElement("strong",null,(0,m.__)("Something went wrong","elementor")))),He=()=>{const e=R();(0,s.useEffect)(()=>{const t=t=>{e&&t.preventDefault()};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e])},Re=()=>(0,A.useMutation)({mutationFn:()=>N({context:"frontend"}),onSuccess:async()=>{(0,c.setDocumentModifiedStatus)(!1),Q&&await(async()=>{await(()=>{const e=(0,c.getCurrentDocument)();return(0,c.getV1DocumentsManager)().invalidateCache(),(0,l.__privateRunCommand)("editor/documents/switch",{id:e?.id,shouldScroll:!1,shouldNavigateToDefaultRoute:!1})})(),Q=!1})()}}),Ne=()=>{const e=(0,c.__useActiveDocument)(),{open:t}=We(),{save:n}=(0,c.__useActiveDocumentActions)(),{open:a,close:r,isOpen:l}=Me(),{prefetchClassesUsage:i}=function(){const e=(0,A.useQueryClient)();return{prefetchClassesUsage:()=>e.prefetchQuery({queryKey:[F],queryFn:W})}}(),{userCan:u}=(0,o.useUserStylesCapability)();return u(V.getKey()).update?s.createElement(s.Fragment,null,s.createElement(d.Tooltip,{title:(0,m.__)("Class Manager","elementor"),placement:"top"},s.createElement(d.IconButton,{size:"tiny",onClick:()=>{e?.isDirty?a():(t(),i())},sx:{marginInlineEnd:-.75}},s.createElement(Z,{fontSize:"tiny"}))),l&&s.createElement(je,null,s.createElement(je.Title,null,(0,m.__)("You have unsaved changes","elementor")),s.createElement(je.Content,null,s.createElement(je.ContentText,{sx:{mb:2}},(0,m.__)("To open the Class Manager, save your page first. You can't continue without saving.","elementor"))),s.createElement(je.Actions,{actions:{cancel:{label:(0,m.__)("Stay here","elementor"),action:r},confirm:{label:(0,m.__)("Save & Continue","elementor"),action:async()=>{await n(),r(),t(),i()}}}}))):null};function Ue(){const e=(0,i.__useDispatch)();return(0,s.useEffect)(()=>{Promise.all([L.all("preview"),L.all("frontend")]).then(([t,n])=>{const{data:a}=t,{data:r}=n;e(w.actions.load({preview:{items:a.data,order:a.meta.order},frontend:{items:r.data,order:r.meta.order}}))})},[e]),null}function Ge(){(0,i.__registerSlice)(w),(0,r.__registerPanel)(Le),o.stylesRepository.register(V),(0,n.injectIntoLogic)({id:"global-classes-populate-store",component:Ue}),(0,a.injectIntoClassSelectorActions)({id:"global-classes-manager-button",component:Ne}),(0,a.registerStyleProviderToColors)(k,{name:"global",getThemeColor:e=>e.palette.global.dark}),(0,l.__privateListenTo)((0,l.v1ReadyEvent)(),()=>{!function(){const e=(0,i.__subscribeWithSelector)(P,()=>{P((0,i.__getState)())&&(0,c.setDocumentModifiedStatus)(!0)});(0,l.registerDataHook)("after","document/save/save",e=>N({context:"publish"===e.status?"frontend":"preview"}))}()})}(window.elementorV2=window.elementorV2||{}).editorGlobalClasses=t}(),window.elementorV2.editorGlobalClasses?.init?.();